server:
  port: ${APP_PORT:8080}

spring:
  application:
    name: ${APP_NAME:XlForum}
  servlet:
    multipart:
      enabled: true
      max-file-size: 10MB
      max-request-size: 20MB
  datasource:
    url: jdbc:mysql://localhost:3306/test
    username: root
    password: 123456
    driver-class-name: com.mysql.cj.jdbc.Driver
    # HikariCP配置:
    hikari:
      auto-commit: false
      connection-timeout: 3000
      validation-timeout: 3000
      max-lifetime: 60000
      maximum-pool-size: 20
      minimum-idle: 1
  # Redis配置
  data:
    redis:
      port: 6379       # Redis端口（默认6379）
      password: 123456 # Redis密码（无密码则省略）
      database: 0      # 数据库索引（默认0）
      lettuce: # Lettuce连接池配置
        pool:
          max-active: 8   # 最大连接数（默认8）
          max-idle: 8     # 最大空闲连接（默认8）
          min-idle: 2     # 最小空闲连接（默认2）
          max-wait: 1000ms # 连接等待时间（默认-1，无限等待）
      timeout: 5000ms    # 连接超时时间（毫秒）

mybatis:
  # Mapper.xml文件的位置（默认扫描resources目录下的mappers文件夹）
  mapper-locations: classpath:mappers/*.xml
  # 实体类的包路径（配置后，Mapper.xml中可直接用类名简称，无需全类名）
  type-aliases-package: com.zxl.xlforum.*.entity
  # 开启驼峰命名映射（如数据库字段user_name -> 实体类属性userName）
  configuration:
    map-underscore-to-camel-case: true

# PageHelper配置
pagehelper:
  helper-dialect: mysql  # 数据库方言（根据实际数据库配置，如oracle、postgresql）
  reasonable: true       # 分页合理化：pageNum<=0时查第1页，pageNum>总页数时查最后一页
  support-methods-arguments: true  # 支持通过Mapper接口参数传递分页参数
  params: count=countSql  # 用于从对象中根据属性名取值，默认值为pageNum=pageNum;pageSize=pageSize

# 自定义：文件上传后的最终存储路径（非临时目录）
file:
  upload-dir: ./uploads  # 本地目录（建议使用绝对路径，如/usr/local/uploads）